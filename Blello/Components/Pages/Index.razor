@page "/"
@using Blello.Model
<!-- Masthead -->
<header class="masthead">

    <div class="boards-menu">

        <button class="boards-btn btn"><i class="fab fa-trello boards-btn-icon"></i>Boards</button>

        <div class="board-search">
            <input type="search" class="board-search-input" aria-label="Board Search">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
        </div>

    </div>

    <div class="logo">

        <h1><i class="fab fa-trello logo-icon" aria-hidden="true"></i>Blello</h1>

    </div>

    <div class="user-settings">

        <button class="user-settings-btn btn" aria-label="Create">
            <i class="fas fa-plus" aria-hidden="true"></i>
        </button>

        <button class="user-settings-btn btn" aria-label="Information">
            <i class="fas fa-info-circle" aria-hidden="true"></i>
        </button>

        <button class="user-settings-btn btn" aria-label="Notifications">
            <i class="fas fa-bell" aria-hidden="true"></i>
        </button>

        <button class="user-settings-btn btn" aria-label="User Settings">
            <i class="fas fa-user-circle" aria-hidden="true"></i>
        </button>

    </div>

</header>
<!-- End of masthead -->
<!-- Board info bar -->
<section class="board-info-bar">

    <div class="board-controls">

        <button class="board-title btn">
            <h2>Web Development</h2>
        </button>

        <button class="star-btn btn" aria-label="Star Board">
            <i class="far fa-star" aria-hidden="true"></i>
        </button>

        <button class="personal-btn btn">Personal</button>

        <button class="private-btn btn"><i class="fas fa-briefcase private-btn-icon" aria-hidden="true"></i>Private</button>

    </div>

    <button class="menu-btn btn"><i class="fas fa-ellipsis-h menu-btn-icon" aria-hidden="true"></i>Show Menu</button>

</section>
<!-- End of board info bar -->
<!-- Lists container -->
<section class="lists-container">

    <div class="list">

        <h3 class="list-title">Tasks to Do</h3>

        <ul class="list-items">
            @foreach (var item in boardItems.Where(b => b.BoardId == 1))
            {
                <Draggable ID="@item.ItemID" IsDragItem=@(item.Equals(DragItem)) DragItemClass="drag-item" DragType="move" DropType="move" DropTargetClass="droptarget" Debug="true" DataItem=@item OnDragStart=@OnDragStart OnDragEnd=@OnDragEnd OnDragDrop=@OnDropItem OnDragEnter=@OnDragEnter OnDragLeave=@OnDragLeave><DragContent Context="dragctx"><li>@dragctx.Content</li></DragContent></Draggable>
            }
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Completed Tasks</h3>

        <ul class="list-items">
            @foreach (var item in boardItems.Where(b => b.BoardId == 2))
            {
                <Draggable ID="@item.ItemID" IsDragItem=@(item.Equals(DragItem)) DragItemClass="drag-item" DragType="move" DropType="move" DropTargetClass="droptarget" Debug="true" DataItem=@item OnDragStart=@OnDragStart OnDragEnd=@OnDragEnd OnDragDrop=@OnDropItem OnDragEnter=@OnDragEnter OnDragLeave=@OnDragLeave><DragContent Context="dragctx"><li>@dragctx.Content</li></DragContent></Draggable>
            }
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Topics/Concepts to Revise</h3>

        <ul class="list-items">
            <li>HTML Elements</li>
            <li>HTML Form Validation</li>
            <li>HTML Structured Data</li>
            <li>Advanced CSS Selectors</li>
            <li>CSS Transforms</li>
            <li>CSS Animations</li>
            <li>CSS Flexbox</li>
            <li>CSS Grid</li>
            <li>CSS Methodologies (BEM, SMACSS etc.)</li>
            <li>SASS/SCSS</li>
            <li>Layout Fallbacks</li>
            <li>Responsive Design</li>
            <li>Design Patterns</li>
            <li>JavaScript Fundamentals</li>
            <li>JavaScript OOP</li>
            <li>JavaScript DOM Manipulation</li>
            <li>JavaScript Debugging Techniques</li>
            <li>Node Package Manager</li>
            <li>Grunt/Gulp</li>
            <li>GitHub</li>
            <li>Git Commands</li>
            <li>Web Accessibility</li>
            <li>Web Performance</li>
            <li>Web Hosting</li>
            <li>Browser Dev Tools</li>
            <li>Google Analytics</li>
            <li>Basic Photoshop/Sketch Usage</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Topics/Concepts to Learn</h3>

        <ul class="list-items">
            <li>HTML 5.2 New Features</li>
            <li>Responsive Images (picture element, srcset/sizes etc.)</li>
            <li>Serverless</li>
            <li>Variable Fonts</li>
            <li>Shadow DOM</li>
            <li>ES6+</li>
            <li>JSON & AJAX</li>
            <li>API's</li>
            <li>JavaScript Patterns</li>
            <li>JavaScript Testing</li>
            <li>jQuery</li>
            <li>SVG</li>
            <li>React JS</li>
            <li>Angular JS</li>
            <li>TypeScript</li>
            <li>Vue JS</li>
            <li>Node JS</li>
            <li>Webpack</li>
            <li>SEO Techniques</li>
            <li>HTML Emails</li>
            <li>WordPress</li>
            <li>Static Site Generators (Jekyll, Hugo, Gatsby etc.)</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Useful Websites for Learning</h3>

        <ul class="list-items">
            <li>Code Academy</li>
            <li>CodePen</li>
            <li>Codrops</li>
            <li>CSS-Tricks</li>
            <li>Free Code Camp</li>
            <li>Khan Academy</li>
            <li>Lynda</li>
            <li>Medium</li>
            <li>Mozilla Developer Network</li>
            <li>Stack Overflow</li>
            <li>Team Treehouse</li>
            <li>Tuts Plus</li>
            <li>Udemy</li>
            <li>WPSessions</li>
            <li>YouTube</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Web Dev YouTube Channels</h3>

        <ul class="list-items">
            <li>Adam Khoury</li>
            <li>Brad Hussey</li>
            <li>CSS-Tricks (Chris Coyier)</li>
            <li>Derek Banas</li>
            <li>DevTips (Travis Neilson)</li>
            <li>Free Code Camp</li>
            <li>Fun Fun Function (Mattias Petter Johansson)</li>
            <li>Google Chrome Developers</li>
            <li>Layout Land (Jen Simmons)</li>
            <li>Learn Code Academy</li>
            <li>Level Up Tuts (Scott Tolinski)</li>
            <li>Mackenzie Child</li>
            <li>Rachel Andrew</li>
            <li>The Net Ninja (Shaun Pelling)</li>
            <li>The New Boston (Bucky Roberts)</li>
            <li>Traversy Media (Brad Traversy)</li>
            <li>Wes Bos</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">CodePen Ideas</h3>

        <ul class="list-items">
            <li>Something cool with CSS Grid</li>
            <li>Something cool with CSS Flexbox</li>
            <li>Something cool with CSS animations</li>
            <li>Something cool with CSS gradients</li>
            <li>Something cool with CSS pseudo-elements</li>
            <li>Something cool with SVG</li>
            <li>Something cool with JavaScript</li>
            <li>Something cool with all of the above</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">Practise Website Ideas</h3>

        <ul class="list-items">
            <li>Airsoft/Paintballing Centre</li>
            <li>Bar/Pub</li>
            <li>Bicycle Shop/Repair</li>
            <li>Cafe/Coffee Shop</li>
            <li>Car Showroom/Garage/Repair/Parts</li>
            <li>Construction Company</li>
            <li>Fitness/Gym/Leisure Centre</li>
            <li>Nightclub</li>
            <li>Party Planning Company</li>
            <li>PC Build/Repair Service</li>
            <li>Portfolio/CV</li>
            <li>Real Estate/AirBnB</li>
            <li>Restaurant</li>
            <li>Skiing/Snowboarding Centre/Company</li>
            <li>Streaming Service for Movies/TV</li>
            <li>Streaming Service for Video Games</li>
            <li>Taxi Service</li>
            <li>Travel Agency</li>
            <li>Zoo/Safari Park</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <div class="list">

        <h3 class="list-title">JavaScript Project Ideas</h3>

        <ul class="list-items">
            <li>Analog Clock</li>
            <li>Basic Quiz</li>
            <li>Bill/Cost Splitter</li>
            <li>Countdown Timer</li>
            <li>Form Validator</li>
            <li>Geolocation (Find places near you etc.)</li>
            <li>Gif Search</li>
            <li>Note Taking App</li>
            <li>Random Name Picker</li>
            <li>Secret Message Encoder/Decoder</li>
            <li>Sortable Image Gallery</li>
            <li>Sortable Table</li>
            <li>Tip Calculator</li>
            <li>To-Do List</li>
            <li>Unit Converter</li>
        </ul>

        <button class="add-card-btn btn">Add a card</button>

    </div>

    <button class="add-list-btn btn">Add a list</button>

</section>
<!-- End of lists container -->

@functions
{
    void OnDragStart(UIDragEventArgs args, BoardItem Data)
    {
        Console.WriteLine($"Start {Data.Content} ");
        DragItem = Data;
        DragIndex = boardItems.IndexOf(DragItem);
        StateHasChanged();
    }

    void OnDragEnter(UIDragEventArgs args, BoardItem Data)
    {
        Console.WriteLine($"Enter {Data.Content} ");
        if (Data.Equals(DragItem))
        {
            return;
        }
        TargetItem = Data;
        int dragIndex = boardItems.IndexOf(DragItem);
        int targetIndex = boardItems.IndexOf(TargetItem);
        boardItems.Remove(DragItem);
        if (TargetItem.BoardId == DragItem.BoardId)
        {
            boardItems.Insert(targetIndex, DragItem);
        }
        else
        {
            boardItems.Insert(targetIndex-1, DragItem);
        }
        DragItem.BoardId = TargetItem.BoardId;
        StateHasChanged();
    }

    void OnDragEnd(UIDragEventArgs args, BoardItem Data)
    {
        Console.WriteLine($"End {Data.Content} ");
        DragItem = null;
        StateHasChanged();
    }

    void OnDragLeave(UIDragEventArgs args, BoardItem Data)
    {
        Console.WriteLine($"Leave {Data.Content} ");
        StateHasChanged();
    }

    void OnDropItem(UIDragEventArgs args, BoardItem Data)
    {
        Console.WriteLine($"Drop {Data.Content}");
        if (args.ShiftKey)
        {
            DragItem = new BoardItem() { BoardId = DragItem.BoardId, Content = $"{DragItem.Content} (COPY)" };
        }
        if (Data.Equals(DragItem))
        {
            return;
        }
        boardItems.Remove(DragItem);
        boardItems.Insert(boardItems.IndexOf(Data), DragItem);
        DragItem.BoardId = Data.BoardId;
        StateHasChanged();
    }

    int DragIndex;
    BoardItem DragItem;
    BoardItem TargetItem;
    List<BoardItem> boardItems;
    protected override void OnInit()
    {
        base.OnInit();
        boardItems = new List<BoardItem>()
{
        new BoardItem() { BoardId=1,Content="Complete mock-up for client website" },
        new BoardItem() { BoardId=1,Content="Email mock-up to client for feedback" },
        new BoardItem() { BoardId=1,Content="Update personal website header background image" },
        new BoardItem() { BoardId=1,Content="Update personal website heading fonts" },
        new BoardItem() { BoardId=1,Content="Add google map to personal website" },
        new BoardItem() { BoardId=1,Content="Begin draft of CSS Grid article" },
        new BoardItem() { BoardId=1,Content="Read new CSS-Tricks articles" },
        new BoardItem() { BoardId=1,Content="Read new Smashing Magazine articles" },
        new BoardItem() { BoardId=1,Content="Read other bookmarked articles" },
        new BoardItem() { BoardId=1,Content="Look through portfolios to gather inspiration" },
        new BoardItem() { BoardId=1,Content="Create something cool for CodePen" },
        new BoardItem() { BoardId=1,Content="Post latest CodePen work on Twitter" },
        new BoardItem() { BoardId=1,Content="Listen to new Syntax.fm episode" },
        new BoardItem() { BoardId=1,Content="Listen to new CodePen Radio episode" },
        new BoardItem() { BoardId=2,Content="Clear email inbox" },
        new BoardItem() { BoardId=2,Content="Finalise requirements for client web design" },
        new BoardItem() { BoardId=2,Content="Begin work on mock-up for client website" },
       };

    }
    //
}